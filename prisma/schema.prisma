datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

generator client {
  provider = "prisma-client-js"
}

model User {
  id          String        @id @default(cuid()) @map("_id")
  username    String        @unique
  displayName String?
  website     String?
  phone       String?
  email       String        @unique
  description String?
  role        String        @default("alumni") // "company", "alumni"
  verified    Boolean       @default(false)
  application Application[]
  createdAt   DateTime      @default(now())
  updatedAt   DateTime      @default(now())

  @@map("user")
}

model Application {
  id          String   @id @default(cuid()) @map("_id")
  userId      String   @map("userId")
  jobId       String   @map("jobId")
  companyId   String   @map("companyId")
  status      String   @default("pending") // "pending", "reviewed", "accepted", "rejected"
  appliedAt   DateTime
  resumeId    String   @map("resume.id")
  resumeUrl   String   @map("resume.url")
  coverLetter String
  user        User     @relation(fields: [userId], references: [id])

  @@map("application")
}
